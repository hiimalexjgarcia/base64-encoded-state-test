(()=>{"use strict";const e={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let t;const n=new Uint8Array(16);function o(){if(!t&&(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(n)}const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));const d=function(t,n,d){if(e.randomUUID&&!n&&!t)return e.randomUUID();const c=(t=t||{}).random||(t.rng||o)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,n){d=d||0;for(let e=0;e<16;++e)n[d+e]=c[e];return n}return function(e,t=0){return(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase()}(c)},c=function(){const e=new Proxy({count:0,notes:[]},{set:(t,n,o)=>(t[n]=o,window.location.hash="#/"+btoa(JSON.stringify(e)),!0)});return{state:{getEncoded:()=>btoa(JSON.stringify(e)),setEncoded:t=>Object.assign(e,JSON.parse(atob(t)))},counter:{increment:()=>e.count+=1,decrement:()=>e.count-=1,get:()=>e.count},notes:{getAll:()=>[...e.notes],add:t=>{e.notes=[...e.notes,t]},remove:t=>{e.notes=e.notes.filter((e=>e!==t))}}}}(),a=document.getElementById("counterDisplay"),i=document.getElementById("counterButtonDecrement");document.getElementById("counterButtonIncrement").addEventListener("click",(()=>c.counter.increment()),!1),i.addEventListener("click",(()=>c.counter.decrement()),!1),window.addEventListener("hashchange",(()=>{a.innerHTML=c.counter.get()}),!1);const s=new LoremIpsum,u=document.getElementById("notesContainer"),l=document.getElementById("notesButtonAdd"),m=document.getElementById("notesDisplayCount"),g=document.getElementById("noteTemplate").content;l.addEventListener("click",(()=>{c.notes.add({id:d(),title:s.sentence(),body:Math.floor(2*Math.random())?s.paragraph():void 0})}),!1),window.addEventListener("hashchange",(()=>{const e=document.createElement("div");c.notes.getAll().forEach((t=>{const n=g.firstElementChild.cloneNode(!0),o=n.querySelector("button"),r=n.querySelector(".card-title"),d=n.querySelector(".card-text");n.dataset.id=t.id,r.innerHTML=t.title,t.body&&(d.innerHTML=t.body),o.addEventListener("click",(e=>{const t=e.target.parentNode.parentNode.parentNode.dataset.id,n=c.notes.getAll().find((e=>e.id===t));c.notes.remove(n)})),e.appendChild(n)})),u.replaceChildren(e),m.innerHTML=`${c.notes.getAll().length} notes`}),!1),document.getElementById("buttonCopyURL").addEventListener("click",(()=>{navigator.clipboard.writeText(location.href)}),!1);try{c.state.setEncoded(window.location.hash.substring(2)),window.dispatchEvent(new HashChangeEvent("hashchange"))}catch(e){console.error(e),c.state.setEncoded("eyJjb3VudCI6MCwibm90ZXMiOltdfQ==")}})();